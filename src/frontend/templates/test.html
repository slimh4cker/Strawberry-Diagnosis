<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arbusto de Fresa Interactivo</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      text-align: center;
    }

    .container {
      position: relative;
      display: inline-block;
    }

    img {
      width: 900px;
      height: 582px;
      display: block;
    }

    svg {
      position: absolute;
      top: 0;
      left: 0;
      width: 900px;
      height: 582px;
    }

    .parte {
      fill: rgba(255, 0, 0, 0);
      cursor: pointer;
      transition: fill 0.2s;
    }

    .parte:hover {
      fill: rgba(255, 0, 0, 0.25);
    }

    #form-sintoma {
      display: none;
      margin-top: 20px;
      border: 1px solid #ccc;
      padding: 15px;
      width: 300px;
      background-color: #f9f9f9;
      border-radius: 8px;
      margin-left: auto;
      margin-right: auto;
    }

    #form-sintoma input {
      width: 100%;
      padding: 5px;
      margin-top: 5px;
      margin-bottom: 10px;
    }

    #form-sintoma button {
      padding: 6px 12px;
      border-radius: 4px;
      border: none;
      background-color: #4CAF50;
      color: white;
      cursor: pointer;
    }
  </style>
</head>

<body>

<h2>Arbusto de Fresa Interactivo — Tamaño Real</h2>

<div class="container">
  <img src="{{ url_for('static', filename='img/partes.png') }}"

  <svg viewBox="0 0 900 582">

    <!-- FLOR -->
    <circle class="parte" data-parte="Flor" cx="455" cy="75" r="25"/>

    <!-- BOTÓN -->
    <circle class="parte" data-parte="Botón" cx="420" cy="70" r="10"/>

    <!-- PEDUNCULO -->
    <circle class="parte" data-parte="Pedúnculo" cx="525" cy="180" r="10"/>

    <!-- PECIOLO -->
    <rect class="parte" data-parte="Peciolo" x="300" y="160" width="35" height="140"/>

    <!-- HOJAS -->
    <circle class="parte" data-parte="Hoja" cx="330" cy="200" r="70"/>
    <circle class="parte" data-parte="Hoja" cx="460" cy="270" r="80"/>
    <circle class="parte" data-parte="Hoja" cx="360" cy="360" r="70"/>

    <!-- FRUTOS -->
    <circle class="parte" data-parte="Pedúnculo" cx="525" cy="180" r="10"/>
    <circle class="parte" data-parte="Fruto" cx="610" cy="230" r="50"/>

    <!-- TALLO -->
    <rect class="parte" data-parte="Tallo" x="430" y="180" width="40" height="270"/>

    <!-- ESTOLÓN -->
    <rect class="parte" data-parte="Estolón" x="520" y="330" width="250" height="35"/>

    <!-- CORONA -->
    <circle class="parte" data-parte="Corona" cx="440" cy="410" r="55"/>

    <!-- RAÍZ -->
    <rect class="parte" data-parte="Raíz" x="350" y="430" width="250" height="150"/>

  </svg>
</div>

<div id="form-sintoma">
  <h3 id="parte-seleccionada">Parte:</h3>
  <label>Síntoma:</label>
  <input type="text" id="sintoma" placeholder="Describe el síntoma">
  <button id="guardar">Guardar</button>
</div>

<script>
  const partes = document.querySelectorAll(".parte");
  const form = document.getElementById("form-sintoma");
  const parteSeleccionada = document.getElementById("parte-seleccionada");
  const inputSintoma = document.getElementById("sintoma");

  partes.forEach(parte => {
    parte.addEventListener("click", () => {
      const nombreParte = parte.dataset.parte;
      parteSeleccionada.textContent = "Parte: " + nombreParte;
      form.style.display = "block";
      inputSintoma.value = "";
      inputSintoma.focus();
    });
  });

  document.getElementById("guardar").addEventListener("click", () => {
    const sintoma = inputSintoma.value.trim();
    if (sintoma) {
      alert(`✔️ Síntoma registrado para ${parteSeleccionada.textContent.split(": ")[1]}: ${sintoma}`);
      form.style.display = "none";
    } else {
      alert("Por favor, escribe un síntoma.");
    }
  });
</script>

</body>
</html>
